# 为什么不能在循环中调用hook

在 React 中，Hooks 是用于在函数组件中添加状态和其他 React 特性的特殊函数。Hooks 的使用有一些规则和限制，其中之一就是不能在循环或条件语句中直接调用 Hooks。  

这个限制的原因是 React Hooks 的设计目标是为了确保在每次渲染中能够保持 Hook 调用的顺序和数量一致，从而确保组件的状态和副作用的正确性。如果在循环中或条件语句中使用 Hooks，由于循环和条件可能会导致 Hook 的调用次数不固定，从而破坏了 React 对 Hook 调用顺序和数量的假设，可能导致组件状态的不一致性、副作用的错误执行等问题。  

解决这个问题的一种常见方式是将循环或条件语句中的逻辑抽离到独立的函数组件中，并在该组件内部使用 Hooks。通过这种方式，可以确保每个函数组件独立地管理自己的状态和副作用，并且 Hooks 的调用顺序和数量在每次渲染中保持一致。  

注意：React 提供了一些特殊的 Hook（如 useEffect 和 useCallback），可以用于处理循环和条件语句中的副作用。这些特殊的 Hook 在设计上是为了解决在函数组件中处理副作用的常见问题，并且已经经过优化和验证。但是，普通的状态 Hook（如 useState）仍然不能在循环或条件语句中使用。  

参考[一篇看懂React hook](https://github.com/ascoders/blog/issues/29)
